<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>TVDifferentiation.jl · TVDifferentiation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">TVDifferentiation</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>TVDifferentiation.jl</a><ul class="internal"><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Citation"><span>Citation</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>TVDifferentiation.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>TVDifferentiation.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/adrhill/TVDifferentiation.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TVDifferentiation.jl"><a class="docs-heading-anchor" href="#TVDifferentiation.jl">TVDifferentiation.jl</a><a id="TVDifferentiation.jl-1"></a><a class="docs-heading-anchor-permalink" href="#TVDifferentiation.jl" title="Permalink"></a></h1><p>Documentation for TVDifferentiation.jl: a Julia reimplementation of <em>Total Variation Regularized Numerical Differentiation</em> (TVDiff) based on <a href="https://sites.google.com/site/dnartrahckcir/home/tvdiff-code">Rick Chartrand&#39;s original Matlab code</a> with tests from <a href="https://github.com/stur86/tvregdiff">Simone Sturniolo&#39;s Python reimplementation</a>.</p><ul><li><a href="#TVDifferentiation.jl">TVDifferentiation.jl</a></li><ul><li><a href="#Functions">Functions</a></li><li><a href="#Citation">Citation</a></li><li><a href="#Index">Index</a></li></ul></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TVDifferentiation.TVDiff-Tuple{Array{var&quot;#s1&quot;,1} where var&quot;#s1&quot;&lt;:Real,Int64,Real}" href="#TVDifferentiation.TVDiff-Tuple{Array{var&quot;#s1&quot;,1} where var&quot;#s1&quot;&lt;:Real,Int64,Real}"><code>TVDifferentiation.TVDiff</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">TVDiff(data::Array{&lt;:Real,1}, iter::Int, α::Real; kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li><p><code>data::Array{&lt;:Real,1}</code>:                   Vector of data to be differentiated.</p></li><li><p><code>iter::Int</code>:  Number of iterations to run the main loop.  A stopping               condition based on the norm of the gradient vector <code>g</code>               below would be an easy modification.  No default value.</p></li><li><p><code>α::Real</code>:    Regularization parameter.  This is the main parameter               to fiddle with.  Start by varying by orders of               magnitude until reasonable results are obtained.  A               value to the nearest power of 10 is usally adequate.               No default value.  Higher values increase               regularization strenght and improve conditioning.</p></li></ul><p><strong>Keywords</strong></p><ul><li><p><code>u0::Array{&lt;:Real,1}</code>:                         Initialization of the iteration.  Default value is the               naive derivative (without scaling), of appropriate               length (this being different for the two methods).               Although the solution is theoretically independent of               the intialization, a poor choice can exacerbate               conditioning issues when the linear system is solved.</p></li><li><p><code>scale::String</code>:               Scale of dataset, <code>&quot;large&quot;</code> or <code>&quot;small&quot;</code> (case insensitive).                 Default is <code>&quot;small&quot;</code> .  <code>&quot;small&quot;</code>  has somewhat better                boundary behavior, but becomes unwieldly for very large datasets.                 <code>&quot;large&quot;</code> has simpler numerics but               is more efficient for large-scale problems.  <code>&quot;large&quot;</code> is               more readily modified for higher-order derivatives,               since the implicit differentiation matrix is square.</p></li><li><p><code>preconditioner::String</code>:                   Method used for preconditioning if <code>scale=&quot;large&quot;</code> is chosen.               Currently,  <code>&quot;cholesky&quot;</code>, <code>&quot;diagonal&quot;</code>,<code>&quot;amg_rs&quot;</code>,<code>&quot;amg_sa&quot;</code>                are available. Default is <code>&quot;amg_rs&quot;</code>.</p></li><li><p><code>ε::Real</code>:     Parameter for avoiding division by zero.  Default value               is <code>1e-6</code>.  Results should not be very sensitive to the               value.  Larger values improve conditioning and               therefore speed, while smaller values give more               accurate results with sharper jumps.</p></li><li><p><code>dx::Real</code>:    Grid spacing, used in the definition of the derivative               operators.  Default is the reciprocal of the data size.</p></li><li><p><code>cg_tol::Real</code>:                     Tolerance used in conjugate gradient method.                Default is <code>1e-6</code>.</p></li><li><p><code>plot_flag::Bool</code>:                   Flag whether to display plot at each iteration.               Default is <code>true</code>.  Useful, but adds significant               running time.</p></li><li><p><code>diag_flag::Bool</code>:                   Flag whether to display diagnostics at each               iteration.  Default is <code>true</code>.  Useful for diagnosing               preconditioning problems.  When tolerance is not met,               an early iterate being best is more worrying than a               large relative residual.</p></li></ul><p><strong>Output</strong></p><ul><li><code>u</code>:          Estimate of the regularized derivative of data.  Due to               different grid assumptions, <code>length(u) = length(data) + 1</code>               if <code>scale = &quot;small&quot;</code>, otherwise <code>length(u) = length(data)</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/adrhill/TVDifferentiation.jl/blob/dd44ae5723b5256897b223b110a3dcc4918fa7fc/src/TVDiff.jl#L1-L71">source</a></section></article><h2 id="Citation"><a class="docs-heading-anchor" href="#Citation">Citation</a><a id="Citation-1"></a><a class="docs-heading-anchor-permalink" href="#Citation" title="Permalink"></a></h2><p>Please cite the following paper if you use this code in published work:</p><blockquote><p>Rick Chartrand, &quot;Numerical differentiation of noisy, nonsmooth data,&quot; ISRN Applied Mathematics, Vol. 2011, Article ID 164564, 2011. </p></blockquote><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#TVDifferentiation.TVDiff-Tuple{Array{var&quot;#s1&quot;,1} where var&quot;#s1&quot;&lt;:Real,Int64,Real}"><code>TVDifferentiation.TVDiff</code></a></li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 2 November 2020 16:03">Monday 2 November 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
